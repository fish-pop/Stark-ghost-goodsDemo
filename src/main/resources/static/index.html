<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.0.1/css/bootstrap.min.css">
    <link href="https://cdn.bootcss.com/bootstrap-table/1.12.1/bootstrap-table.min.css" rel="stylesheet">
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script>
        function register(){
        var goodsName = $('#goodsNameInput').val();
        var price = $('#priceInput').val();
        console.log('register goodsName is '+ goodsName)
        console.log('register price is '+ price)

             $.ajax({
                type:"POST",
                url:"/register",
                dataType:"json",
                data:{
                   goodsName:goodsName,
                    price:price,
                },
                success:function(data){
                  alert("商品入库成功");
                  alert(data.status);
                },
                error: function(jqXHR){
                    alert("发生错误："+jqXHR.status);
                }
            });
            }




        function select() {
             var goodsName = $('#nameForSelect').val();
             console.log('select name is ' + goodsName)

                  $.ajax({
                      type:"GET",
                      url:"/select",
                      dataType:"json",
                      data:{
                          goodsName:goodsName,
                       },
                      success:function(data){
                         alert("商品查询成功");
                         alert(data.status);
                      },
                      error: function(jqXHR){
                      alert("发生错误："+jqXHR.status);
                      }
                  });
            }

        function dede() {
             var goodsName = $('#nameForDelete').val();
             console.log('delete name is ' + goodsName)

                  $.ajax({
                      type:"DELETE",
                      url:"/delete",
                      dataType:"json",
                      data:{
                          goodsName:goodsName,
                       },
                      success:function(data){
                      if(data.status){
                            alert("商品删除成功");
                                console.log('ok');
                      }else{
                           alert("商品删除失败");
                               console.log('fail');
                      }
                     },
                      error: function(jqXHR){
                      alert("发生错误："+jqXHR.status);
                      }
                  });
            }

        function update(){
        var goodsName = $('#nameByUpdate').val();
        var price=$('#newPrice').val();
        console.log('login name is '+ goodsName)
        console.log('update password is '+ price)
             $.ajax({
                type:"POST",
                url:"/update",
                dataType:"json",
                data:{
                    goodsName:goodsName,
                    price:price,
                },
                success:function(data){
                  if(data.status){
                      alert("修改成功");
                         console.log('ok');
                  }else{
                      alert("修改失败");
                         console.log('fail');
                  }
                },
                error: function(jqXHR){
                    alert("发生错误："+jqXHR.status);
                }
            });
            }


    </script>


</head>
<body>
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="http://apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap-table/1.12.1/bootstrap-table.min.js"></script>

goodsName:<input id="goodsNameInput">
price:<input id="priceInput">
<button onclick="register()">商品入库</button>
<br>

goodsName:<input id="nameForSelect">
<button onclick="select()">查询商品</button>
<br>
goodsName:<input id="nameForDelete">
<button onclick="dede()">删除商品</button>
<br>

goodsName:<input id="nameByUpdate">
price:<input id="newPrice">
<button onclick="update()">修改商品价格</button>
</body>
</html>